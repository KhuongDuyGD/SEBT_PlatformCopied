spring.application.name=SEBT_platform

spring.main.allow-bean-definition-overriding=true

# ============================================
# DATABASE CONFIGURATION (from .env)
# ============================================
spring.datasource.url=jdbc:sqlserver://${DB_HOST:localhost}:${DB_PORT:1433};databaseName=${DB_NAME:SEBT_platform};encrypt=true;trustServerCertificate=true
spring.datasource.username=${DB_USERNAME:sa}
spring.datasource.password=${DB_PASSWORD:12345}
spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver
server.port=${APP_PORT:8080}

# ============================================
# JPA AND HIBERNATE CONFIGURATION
# ============================================
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.database-platform=org.hibernate.dialect.SQLServerDialect

# ============================================
# EMAIL SERVICE CONFIGURATION (from .env)
# ============================================
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:noreplysebtplatform@gmail.com}
spring.mail.password=${MAIL_PASSWORD:fmpa nvqr lgjw gvuo}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# ============================================
# SESSION CONFIGURATION
# ============================================
server.servlet.session.timeout=30m
server.servlet.session.cookie.name=SEBT_SESSION
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=false
server.servlet.session.tracking-modes=cookie

# ============================================
# CLOUDINARY CONFIGURATION (from .env)
# ============================================
cloudinary.cloud-name=${CLOUDINARY_CLOUD_NAME:ddkdnc4qo}
cloudinary.api-key=${CLOUDINARY_API_KEY:359585565382774}
cloudinary.api-secret=${CLOUDINARY_API_SECRET:NSR_ETB4eVpJno0RII0B9JXME4E}
cloudinary.secure=true

# ============================================
# FILE UPLOAD CONFIGURATION (from .env)
# ============================================
spring.servlet.multipart.max-file-size=${MAX_FILE_SIZE:10MB}
spring.servlet.multipart.max-request-size=${MAX_REQUEST_SIZE:50MB}

# ============================================
# LOGGING CONFIGURATION
# ============================================
logging.level.root=${LOG_LEVEL:INFO}
logging.level.project.swp.spring.sebt_platform=DEBUG

# ============================================
# CORS CONFIGURATION (from .env)
# ============================================
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:5173,http://localhost:3000}

# ============================================
# AI / GEMINI CONFIGURATION (from .env)
# ============================================
app.ai.gemini.apiKey=${GEMINI_API_KEY:}
app.ai.gemini.model=${GEMINI_MODEL:gemini-2.5-flash}
# Pricing suggestion tuning
app.pricing.clamp.percent=0.15
app.pricing.retry.attempts=3
app.pricing.retry.initialDelayMillis=400
app.pricing.fallback.model=gemini-1.5-flash-latest
app.pricing.cache.enabled=true
app.pricing.cache.maxSize=500


# ============================================
#  VNPAY CONFIGURATION (from .env)
# ============================================
vnpay.tmn-Code=${TMN_CODE:HQ5QM1Y5}

vnpay.hash-Secret=${HASH_SECRET:H71UGPPT9O1IAH6KKKLHX6PEDDGY4N12}

vnpay.pay-Url=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html

vnpay.api-Url=https://sandbox.vnpayment.vn/merchant_webapi/api/transaction

vnpay.return-Url=http://localhost:8080/api/vnpay/return
